/*
 * Javascript Thaana Keyboard 4.2.1
 *
 * Copyright (c) 2009 Jawish Hameed (jawish.org)
 * Licensed under the MIT license.
 */
var thaanaKeyboard={defaultKeyboard:"",_transFrom:"qwertyuiop[]\\asdfghjkl;'zxcvbnm,./QWERTYUIOP{}|ASDFGHJKL:\"ZXCVBNM<>?()",_transToKbd:{phonetic:"ްއެރތޔުިޮޕ][\\ަސދފގހޖކލ؛'ޒ×ޗވބނމ،./ޤޢޭޜޓޠޫީޯ÷}{|ާށޑﷲޣޙޛޚޅ:\"ޡޘޝޥޞޏޟ><؟)(","phonetic-hh":"ޤަެރތޔުިޮޕ][\\އސދފގހޖކލ؛'ޒޝްވބނމ،./ﷲާޭޜޓޠޫީޯޕ}{|ޢށޑޟޣޙޛޚޅ:\"ޡޘޗޥޞޏމ><؟)(",typewriter:'ޫޮާީޭގރމތހލ[]ިުްަެވއނކފﷲޒޑސޔޅދބށޓޯ×’“/:ޤޜޣޠޙ÷{}<>.،"ޥޢޘޚޡ؛ޖޕޏޗޟޛޝ\\ޞ؟)('},_className:"thaanaKeyboardInput",init:function(){this.setHandlerByClass(this._className,"enable")},setHandlerById:function(a,b){var c=document.getElementById(a);switch(b){case"enable":c.onkeypress=this.handleKey;break;case"disable":c.onkeypress=null}},setHandlerByClass:function(a,b){var c=new RegExp("\\b"+a+"\\b"),d=document.all||document.getElementsByTagName("*");for(n=0;n<d.length;n++)c.test(d[n].className)&&this.setHandlerById(d[n].id,b)},handleKey:function(a){if(!a)var a=window.event;if(null==a.which)keycode=a.keyCode;else{if(!(a.which>0))return!0;if(keycode=a.which,window.opera&&1==[45,46,35,36].indexOf(keycode))return!0}if(a.modifier)var b=a.modifiers&Event.CONTROL_MASK;else if("undefined"!=typeof a.ctrlKey)var b=a.ctrlKey;try{var c=thaanaKeyboard._transFrom.indexOf(String.fromCharCode(keycode));if(-1==c||b)return!0;var d=thaanaKeyboard.defaultKeyboard,e=document.getElementsByName(this.id+"_thaanaKeyboardState");if(e)for(i=0;i<e.length;i++)if("radio"==e[i].type||"checkbox"==e[i].type){if(1==e[i].checked){d=e[i].value;break}}else{if("select-one"==e[i].type){d=e[i].options[e[i].selectedIndex].value;break}if("hidden"==e[i].type||"text"==e[i].type){d=e[i].value;break}}var f=thaanaKeyboard._transToKbd[d].substr(c,1)}catch(g){return}"function"==typeof a.preventDefault?a.preventDefault():a.returnValue=!1;var h=this.scrollTop;if(this.selectionStart){var j=this.selectionStart+1;this.value=this.value.substring(0,this.selectionStart)+f+this.value.substring(this.selectionEnd,this.value.length),this.setSelectionRange(j,j),this.focus()}else document.selection?(sel=document.selection.createRange(),sel.text=f,this.focus()):this.value+=f;this.scrollTop=h}},old=window.onload?window.onload:function(){};window.onload=function(){old(),thaanaKeyboard.init()};
